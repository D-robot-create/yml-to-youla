<?php
define('DEBUG_MODE', true); // Поставьте false в продакшене
define('FEEDS_DIR', __DIR__ . '/feeds');
define('LOGS_DIR', __DIR__ . '/logs');
define('MAX_FEED_SIZE', 50 * 1024 * 1024); // 50MB
define('UPDATE_INTERVAL_DEFAULT', 30); // минуты
define('REQUEST_TIMEOUT', 30); // секунды

// Конфигурация категорий Юлы
$YOULA_CATEGORIES = [
    '2' => [ // Бытовая техника
        '206' => [ // Вытяжки
            'params' => [],
            'mapping' => []
        ],
        '212' => [ // Климатическая техника
            'params' => [
                'klimaticheskaya_tip' => [
                    '9920' => 'Вентиляторы',
                    '9921' => 'Ионизаторы',
                    '9922' => 'Метеостанции, термометры',
                    '9923' => 'Мобильные кондиционеры',
                    '9924' => 'Настенные кондиционеры',
                    '9925' => 'Обогревательные приборы',
                    '9926' => 'Очистители, увлажнители воздуха'
                ]
            ],
            'mapping' => [
                'Вентилятор' => '9920',
                'Ионизатор' => '9921',
                'Метеостанция' => '9922',
                'Термометр' => '9922',
                'Кондиционер мобильный' => '9923',
                'Кондиционер настенный' => '9924',
                'Обогреватель' => '9925',
                'Очиститель воздуха' => '9926',
                'Увлажнитель' => '9926'
            ]
        ]
    ],
    '6' => [ // Ремонт и строительство
        '610' => [ // Отопление и вентиляция
            'params' => [
                'otoplenie_ventilyaciya_tip' => [
                    '9519' => 'Вентиляция',
                    '9520' => 'Газовые баллоны',
                    '9521' => 'Камины и печи',
                    '9522' => 'Отопительные котлы',
                    '9523' => 'Радиаторы',
                    '9524' => 'Теплый пол'
                ]
            ],
            'mapping' => [
                'Вентиляция' => '9519',
                'Газовый баллон' => '9520',
                'Камин' => '9521',
                'Печь' => '9521',
                'Котел' => '9522',
                'Радиатор' => '9523',
                'Теплый пол' => '9524'
            ]
        ]
    ]
];

// Создаем необходимые директории
if (!file_exists(FEEDS_DIR)) {
    mkdir(FEEDS_DIR, 0755, true);
}

if (!file_exists(LOGS_DIR)) {
    mkdir(LOGS_DIR, 0755, true);
}

// Инициализируем сессию если не инициализирована
if (session_status() === PHP_SESSION_NONE) {
    session_start();
}